<!doctype html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="./index.css">
  <title>Top Rated Movie</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script>
    const options = {
      method: 'GET',
      headers: {
        accept: 'application/json',
        Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIyOTM3YTE2N2YxZTA5ZGYwNDM4ZDI1NmZiNThjZTQ0YyIsInN1YiI6IjY1OTk4NGI3MWQxYmY0MDFhOGU1NWZiZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.TAtSAqF7Eikmbg_lzzouG1BSYyyVwe8MO9Hkr-0XTwg'
      }
    };

    fetch('https://api.themoviedb.org/3/movie/top_rated?language=en-US&page=1', options)
      .then(response => response.json())
      .then(response => {
        let movieList = response['results'];

        movieList.forEach(element => {
         let title = element['title'];
         let overview = element['overview'];
         let poster_path = element['poster_path'];
         let vote_average = element['vote_average'];

         let temp_html = `<div class="movie-card">
                          <img src="https://image.tmdb.org/t/p/w500${poster_path}" alt="">
                          <h3>[${title}]</h3>
                          <p>요약 : ${overview}</p>
                          <p>평점 : ${vote_average}</p>
                        </div>`;
          $('#card-list').append(temp_html);
        });

      })
  </script>
</head>

<body>
  <header>
    <h2>&#127914; 최고 평점 영화 콜렉션 &#127916;</h2>
  </header>
  <main>
      <form class="search" onsubmit="handleSearch(event)">
        <label>영화 검색 : </label>
        <input type="text" id="search-input" placeholder="영화 제목을 검색해 보세요" />
        <button type="submit" id="search-btn">검색</button>
    </form>
    <section class="card-list" id="card-list">
      <!-- <div class="movie-card" id="movie-card">
        <img src="" alt="">
        <h3>[]</h3>
        <p>요약 : </p>
        <p>평점 : </p>
      </div> -->
    </section>
  </main>
  <footer></footer>
</body>

</html>